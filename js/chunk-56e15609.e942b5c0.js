(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56e15609"],{"015d":function(t,a,s){},"13d5":function(t,a,s){"use strict";var e=s("23e7"),r=s("d58f").left,i=s("a640"),n=s("ae40"),c=i("reduce"),o=n("reduce",{1:0});e({target:"Array",proto:!0,forced:!c||!o},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},7965:function(t,a,s){"use strict";var e=s("015d"),r=s.n(e);r.a},d504:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("m-header"),s("router-view")],1)},r=[],i=s("ecfc"),n={components:{MHeader:i["a"]}},c=n,o=s("2877"),u=Object(o["a"])(c,e,r,!1,null,"177d0050",null);a["default"]=u.exports},d58f:function(t,a,s){var e=s("1c0b"),r=s("7b0b"),i=s("44ad"),n=s("50c4"),c=function(t){return function(a,s,c,o){e(s);var u=r(a),l=i(u),d=n(u.length),v=t?d-1:0,p=t?-1:1;if(c<2)while(1){if(v in l){o=l[v],v+=p;break}if(v+=p,t?v<0:d<=v)throw TypeError("Reduce of empty array with no initial value")}for(;t?v>=0:d>v;v+=p)v in l&&(o=s(o,l[v],v,u));return o}};t.exports={left:c(!1),right:c(!0)}},ecfc:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"header-box"},[s("div",[s("header",{staticClass:"w"},[s("div",{staticClass:"w-box"},[s("div",{staticClass:"nav-logo"},[s("h1",[s("router-link",{attrs:{to:"/",title:"商城官网"}},[t._v("Xmall商城")])],1)]),s("div",{staticClass:"right-box"},[s("div",{staticClass:"nav-list"},[s("el-input",{attrs:{placeholder:"请输入商品信息","suffix-icon":"el-icon-search",minlength:"1",maxlength:"100"},model:{value:t.productInfo,callback:function(a){t.productInfo=a},expression:"productInfo"}}),s("router-link",{attrs:{to:"/goods"}},[t._v("全部商品")]),s("router-link",{attrs:{to:"/thanks"}},[t._v("捐赠")])],1),s("div",{staticClass:"nav-aside"},[s("div",{staticClass:"user pr"},[s("router-link",{attrs:{to:"/user"}},[t._v("个人中心")]),t.login?s("div",{staticClass:"nav-user-wrapper pa"},[s("div",{staticClass:"nav-user-list"},[s("ul",[s("li",{staticClass:"nav-user-avatar"},[s("div",[s("span",{staticClass:"avatar",style:{backgroundImage:"url("+t.userInfo.file+")"}})]),s("p",{staticClass:"name"},[t._v(t._s(t.userInfo.username))])]),s("li",[s("router-link",{attrs:{to:"/user/orderList"}},[t._v("我的订单")])],1),s("li",[s("router-link",{attrs:{to:"/user/information"}},[t._v("账号资料")])],1),s("li",[s("router-link",{attrs:{to:"/user/addressList"}},[t._v("收货地址")])],1),s("li",[s("router-link",{attrs:{to:"/user/support"}},[t._v("售后服务")])],1),s("li",[s("router-link",{attrs:{to:"/user/coupon"}},[t._v("我的优惠")])],1),s("li",[s("a",{attrs:{href:"javascript:;"},on:{click:t.logout}},[t._v("退出")])])])])]):t._e()],1),s("div",{staticClass:"shop pr",on:{mouseenter:function(a){return t.cartShowState(!0)},mouseleave:function(a){return t.cartShowState(!1)}}},[s("router-link",{attrs:{to:"/cart"}}),s("span",{staticClass:"cart-num"},[s("i",{staticClass:"num",class:{no:0==t.totalCount}},[t._v(t._s(t.totalCount))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showCart,expression:"showCart"}],staticClass:"nav-user-wrapper pa active"},[s("div",{staticClass:"nav-user-list"},[s("div",{staticClass:"full"},[s("div",{staticClass:"nav-cart-items"},[s("ul",t._l(t.cartList,(function(a,e){return s("li",{key:e,staticClass:"clearfix"},[s("div",{staticClass:"cart-item"},[s("div",{staticClass:"cart-item-inner"},[s("a",[s("div",{staticClass:"item-thumb"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.productImageBig,expression:"goods.productImageBig"}]})]),s("div",{staticClass:"item-desc"},[s("div",{staticClass:"cart-cell"},[s("h4",[s("a",{attrs:{href:""}},[t._v(t._s(a.productName))])]),s("h6",[s("span",{staticClass:"price-icon"},[t._v("¥")]),s("span",{staticClass:"price-num"},[t._v(t._s(Number(a.salePrice).toFixed(2)))]),s("span",{staticClass:"item-num"},[t._v("x "+t._s(a.productNum))])])])])]),s("div",{staticClass:"del-btn del",on:{click:function(s){return t.delGoods(a.productId)}}},[t._v("X")])])])])})),0)]),s("div",{staticClass:"nav-cart-total"},[s("p",[t._v(" 共 "),s("strong",[t._v(t._s(t.totalCount))]),t._v(" 件商品 ")]),s("h5",[t._v(" 合计： "),s("span",{staticClass:"price-icon"},[t._v("¥")]),s("span",{staticClass:"price-num"},[t._v(t._s(t.totalPrice.toFixed(2)))])]),s("h6",[s("el-button",{attrs:{type:"danger"}},[t._v("去购物车")])],1)])]),t.cartList.length?t._e():s("div",{staticClass:"cart-con",staticStyle:{height:"313px","text-align":"center"}},[s("p",[t._v("您的购物车竟然是空的!")])])])])],1)])])])]),t._t("nav",[s("div",{staticClass:"nav-sub"},[s("div",{staticClass:"nav-sub-bg"}),s("div",{staticClass:"nav-sub-wrapper"},[s("div",{staticClass:"w"},[s("el-breadcrumb",[s("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),s("el-breadcrumb-item",{attrs:{to:{path:"/goods"}}},[t._v("全部")]),s("el-breadcrumb-item",{attrs:{to:{path:"/goods?cid=1184"}}},[t._v("品牌周边")]),s("el-breadcrumb-item",{attrs:{to:{path:"/thanks"}}},[t._v("捐赠")])],1)],1)])])])],2)])},r=[],i=(s("13d5"),s("96cf"),s("1da1")),n=s("5530"),c=s("2f62"),o=s("4d73"),u={data:function(){return{productInfo:""}},computed:Object(n["a"])(Object(n["a"])({},Object(c["c"])(["login","userInfo","showCart","cartList"])),{},{totalCount:function(){return this.cartList.reduce((function(t,a){return t+a.productNum}),0)},totalPrice:function(){return this.cartList.reduce((function(t,a){return t+a.productNum*a.salePrice}),0)}}),methods:Object(n["a"])(Object(n["a"])({},Object(c["b"])(["SHOWCART","ISLOGIN","GETSTATE","ADDCART"])),{},{cartShowState:function(t){this.SHOWCART(t)},logout:function(){o["a"].set("token",null),o["a"].set("userInfo",null),o["a"].set("cartList",[]),o["a"].set("id",null),this.ISLOGIN({info:null,isLogin:!1}),this.GETSTATE(),this.$router.push("/")},delGoods:function(t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var e;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,a.$axios.post("api/addCart",{userId:o["a"].get("id"),productId:t,productNum:-1});case 2:e=s.sent,a.ADDCART(e.data.result.cartList);case 4:case"end":return s.stop()}}),s)})))()}}),mounted:function(){this.GETSTATE()}},l=u,d=(s("7965"),s("2877")),v=Object(d["a"])(l,e,r,!1,null,"e486b996",null);a["a"]=v.exports}}]);
//# sourceMappingURL=chunk-56e15609.e942b5c0.js.map