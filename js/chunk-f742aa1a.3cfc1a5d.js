(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f742aa1a"],{1393:function(t,e,a){"use strict";var n=a("23e7"),r=a("857a"),i=a("af03");n({target:"String",proto:!0,forced:i("big")},{big:function(){return r(this,"big","","")}})},"35c8":function(t,e,a){"use strict";var n=a("727c"),r=a.n(n);r.a},"626e":function(t,e,a){},"6dc0":function(t,e,a){t.exports=a.p+"img/no-data.11e5816e.png"},"727c":function(t,e,a){},"78e3":function(t,e,a){"use strict";var n=a("626e"),r=a.n(n);r.a},"857a":function(t,e,a){var n=a("1d80"),r=/"/g;t.exports=function(t,e,a,i){var s=String(n(t)),c="<"+e;return""!==a&&(c+=" "+a+'="'+String(i).replace(r,"&quot;")+'"'),c+">"+s+"</"+e+">"}},af03:function(t,e,a){var n=a("d039");t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},c96a:function(t,e,a){"use strict";var n=a("23e7"),r=a("857a"),i=a("af03");n({target:"String",proto:!0,forced:i("small")},{small:function(){return r(this,"small","","")}})},ed91:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gray-box"},[a("div",{staticClass:"title"},[a("h2",[t._v(t._s(t.title))])]),a("div",[t._t("content")],2)])},r=[],i={props:["title"]},s=i,c=(a("78e3"),a("2877")),u=Object(c["a"])(s,n,r,!1,null,"50594883",null);e["a"]=u.exports},ef60:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w store-content"},[n("div",{staticClass:"gray-box"},[n("div",{staticClass:"gallery-wrapper"},[n("div",{staticClass:"gallery"},[n("div",{staticClass:"thumbnail"},[n("ul",t._l(t.small,(function(e,a){return n("li",{key:a,class:{on:e===t.big},on:{click:function(a){return t.handlerClick(e)}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e,expression:"item"}]})])})),0)]),n("div",{staticClass:"thumb"},[n("div",{staticClass:"big"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.big,expression:"big"}]})])])])]),n("div",{staticClass:"banner"},[n("div",{staticClass:"sku-custom-title"},[n("h4",[t._v(t._s(t.product.productName))]),n("h6",[n("span",[t._v(t._s(t.product.subTitle))]),n("span",{staticClass:"price"},[n("em",[t._v("¥")]),n("i",[t._v(t._s(Number(t.product.salePrice).toFixed(2)))])])])]),n("div",{staticClass:"num"},[n("span",{staticClass:"params-name"},[t._v("数量")]),n("buy-num",{on:{updateNum:t.updateNum}})],1),n("div",{staticClass:"buy"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addCart(t.product)}}},[t._v("加入购物车")]),n("el-button",{attrs:{type:"danger"}},[t._v("现在购买")])],1)])]),n("div",{staticClass:"item-info"},[n("m-shelf",{attrs:{title:t.product.productName}},[n("div",{attrs:{slot:"content"},slot:"content"},[t.product.detail?n("div",{domProps:{innerHTML:t._s(t.product.detail)}}):n("div",{staticClass:"no-info"},[n("img",{attrs:{src:a("6dc0"),alt:""}}),n("br"),t._v("该商品暂无详细介绍 ")])])])],1)])},r=[],i=(a("1393"),a("c96a"),a("96cf"),a("1da1")),s=a("5530"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-input-number",{attrs:{min:1,max:10,step:1,label:"描述文字"},on:{change:t.handleChange},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})},u=[],o={data:function(){return{num:1}},methods:{handleChange:function(t){this.$emit("updateNum",t)}}},l=o,d=a("2877"),p=Object(d["a"])(l,c,u,!1,null,"99ba436a",null),m=p.exports,f=a("ed91"),v=a("4d73"),g=a("2f62"),b={components:{MShelf:f["a"],BuyNum:m},data:function(){return{product:{},small:[],big:"",num:1}},computed:Object(s["a"])({},Object(g["c"])(["login"])),created:function(){this.getGoodsDetail()},methods:Object(s["a"])(Object(s["a"])({getGoodsDetail:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/api/goods/productDet?productId="+t.$route.query.productId);case 3:a=e.sent,t.product=a.data,t.small=t.product.productImageSmall,t.big=t.product.productImageBig,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},handlerClick:function(t){this.big=t},updateNum:function(t){this.number=t}},Object(g["b"])(["ADDCART"])),{},{addCart:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.productId,t.salePrice,t.productImageBig,t.productName,console.log(e.login),!e.login){a.next=9;break}return a.next=5,e.$axios.post("api/addCart",{userId:v["a"].get("id"),productId:n,productNum:e.number});case 5:r=a.sent,e.ADDCART(r.data.result.cartList),a.next=10;break;case 9:confirm("是否前往登陆页面")&&e.$router.push({path:"login",query:{next:e.$route.fullPath}});case 10:case"end":return a.stop()}}),a)})))()}})},h=b,C=(a("35c8"),Object(d["a"])(h,n,r,!1,null,"66c64470",null));e["default"]=C.exports}}]);
//# sourceMappingURL=chunk-f742aa1a.3cfc1a5d.js.map