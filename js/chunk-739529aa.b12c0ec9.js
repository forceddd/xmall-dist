(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-739529aa"],{"48cb":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods"},[a("div",{staticClass:"nav"},[a("div",{staticClass:"w"},[t._l(t.navList,(function(e,r){return a("a",{key:r,class:{active:t.isIndex===r},attrs:{href:"javascript:;"},on:{click:function(e){return t.handlerSort(r)}}},[t._v(t._s(e.title))])})),a("div",{staticClass:"price-interval"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.min,expression:"min"}],staticClass:"input",attrs:{type:"number",placeholder:"最低价"},domProps:{value:t.min},on:{input:function(e){e.target.composing||(t.min=e.target.value)}}}),a("span",{staticStyle:{margin:"0 5px"}},[t._v("-")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.max,expression:"max"}],attrs:{type:"number",placeholder:"最高价"},domProps:{value:t.max},on:{input:function(e){e.target.composing||(t.max=e.target.value)}}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:t.getAllGoods}},[t._v("确定")])],1)],2)]),a("div",[a("div",{staticClass:"goods-box w"},t._l(t.allGoods,(function(t){return a("mall-goods",{key:t.productId,attrs:{goods:t}})})),1),a("div",{staticClass:"w"},[a("el-pagination",{staticStyle:{float:"right"},attrs:{"current-page":t.currentPage,"page-sizes":[8,16,20,40],"page-size":t.pageSize,layout:"total,sizes, prev, pager, next,jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)])])},n=[],o=(a("99af"),a("96cf"),a("1da1")),s=a("7b92"),i={data:function(){return{max:"",min:"",navList:[{title:"综合排序"},{title:"价格由低到高"},{title:"价格由高到低"}],isIndex:0,allGoods:[],pageSize:20,sort:"",currentPage:1,total:0}},components:{MallGoods:s["a"]},created:function(){this.getAllGoods()},watch:{$route:"getAllGoods"},methods:{handlerSort:function(t){switch(this.isIndex=t,t){case 1:this.sort=1;break;case 2:this.sort=-1;break;default:this.currentPage=1,this.sort="";break}this.getAllGoods()},handleSizeChange:function(t){this.pageSize=t,this.currentPage=1,this.getAllGoods()},handleCurrentChange:function(t){this.currentPage=t,this.getAllGoods()},getAllGoods:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="/api/goods/allGoods?size=".concat(t.pageSize,"&sort=").concat(t.sort,"&page=").concat(t.currentPage,"&gt=").concat(t.min,"&lt=").concat(t.max,"&cid=").concat(t.$route.query.cid),e.prev=1,e.next=4,t.$axios.get(a);case 4:r=e.sent,t.allGoods=r.data.data,t.total=r.data.total,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}},c=i,l=(a("a992"),a("2877")),u=Object(l["a"])(c,r,n,!1,null,"47fc104c",null);e["default"]=u.exports},"7b92":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"good-item"},[a("el-col",[a("el-card",{attrs:{"body-style":{padding:0}}},[a("div",{staticClass:"good-img"},[a("a",[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.goods.productImageBig,expression:"goods.productImageBig"}],attrs:{alt:""}})])]),a("h6",{staticClass:"good-title"},[t._v(t._s(t.goods.productName))]),a("h3",{staticClass:"sub-title ellipsis"},[t._v(t._s(t.goods.subTitle))]),a("div",{staticClass:"good-price pr"},[a("div",{staticClass:"ds pa"},[a("a",{attrs:{href:"javascript:;"}},[a("el-button",{attrs:{type:"default",size:"medium"},on:{click:function(e){return t.productDetail(t.goods.productId)}}},[t._v("查看详情")])],1),a("a",{attrs:{href:"javascript:;"}},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.addCart(t.goods)}}},[t._v("加入购物车")])],1)]),a("p",[a("span",{staticStyle:{"font-size":"14px"}},[t._v("￥")]),t._v(" "+t._s(Number(t.goods.salePrice).toFixed(2))+" ")])])])],1)],1)},n=[],o=(a("96cf"),a("1da1")),s=a("5530"),i=a("2f62"),c=a("4d73"),l={props:["goods"],computed:Object(s["a"])({},Object(i["c"])(["login"])),methods:Object(s["a"])(Object(s["a"])({productDetail:function(t){this.$router.push({path:"goodsDetail?productId=".concat(t)})}},Object(i["b"])(["ADDCART"])),{},{addCart:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=t.productId,t.salePrice,t.productImageBig,t.productName,!e.login){a.next=8;break}return a.next=4,e.$axios.post("api/addCart",{userId:c["a"].get("id"),productId:r,productNum:1});case 4:n=a.sent,e.ADDCART(n.data.result.cartList),a.next=9;break;case 8:confirm("是否前往登陆页面")&&e.$router.push({path:"login",query:{next:e.$route.fullPath}});case 9:case"end":return a.stop()}}),a)})))()}})},u=l,d=(a("92bc"),a("2877")),p=Object(d["a"])(u,r,n,!1,null,"394df228",null);e["a"]=p.exports},"92bc":function(t,e,a){"use strict";var r=a("c77d"),n=a.n(r);n.a},"99af":function(t,e,a){"use strict";var r=a("23e7"),n=a("d039"),o=a("e8b5"),s=a("861d"),i=a("7b0b"),c=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),p=a("b622"),g=a("2d00"),f=p("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",h=g>=51||!n((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),b=d("concat"),x=function(t){if(!s(t))return!1;var e=t[f];return void 0!==e?!!e:o(t)},C=!h||!b;r({target:"Array",proto:!0,forced:C},{concat:function(t){var e,a,r,n,o,s=i(this),d=u(s,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?s:arguments[e],x(o)){if(n=c(o.length),p+n>m)throw TypeError(v);for(a=0;a<n;a++,p++)a in o&&l(d,p,o[a])}else{if(p>=m)throw TypeError(v);l(d,p++,o)}return d.length=p,d}})},a5fc:function(t,e,a){},a992:function(t,e,a){"use strict";var r=a("a5fc"),n=a.n(r);n.a},c77d:function(t,e,a){}}]);
//# sourceMappingURL=chunk-739529aa.b12c0ec9.js.map